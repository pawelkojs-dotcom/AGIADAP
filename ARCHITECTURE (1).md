# AGI INTENTIONALITY FRAMEWORK - ARCHITECTURE OVERVIEW

**Version:** 1.0 | **Date:** 2025-11-18  
**Status:** âœ… Integration Complete | â³ LLM Ready

---

## ğŸ—ï¸ SYSTEM ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AGI INTENTIONALITY FRAMEWORK                   â”‚
â”‚                     (Cognitive Lagoon System)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                â”‚                â”‚
                â–¼                â–¼                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ MULTI-LAYER   â”‚ â”‚   METRICS    â”‚ â”‚  LLM INFRA  â”‚
        â”‚  AGI SYSTEM   â”‚ â”‚   ANALYSIS   â”‚ â”‚  BASELINE   â”‚
        â”‚ (agi_multi_   â”‚ â”‚  (metrics.   â”‚ â”‚ (llm_base   â”‚
        â”‚  layer.py)    â”‚ â”‚   py)        â”‚ â”‚  line.py)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                â”‚                â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ MASTER PIPELINE â”‚
                        â”‚ (run_pipeline   â”‚
                        â”‚      .py)       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚            â”‚            â”‚
                    â–¼            â–¼            â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   TOY   â”‚  â”‚   LLM   â”‚  â”‚ COMPARE  â”‚
              â”‚ BASELINEâ”‚  â”‚BASELINE â”‚  â”‚ BASELINESâ”‚
              â”‚   âœ…    â”‚  â”‚   â³    â”‚  â”‚    â³    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ MODULE BREAKDOWN

### 1. Multi-Layer AGI System (`agi_multi_layer.py`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         MULTI-LAYER AGENT ARCHITECTURE           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  Layer 5: Meta-cognitive  â”€â”                    â”‚
â”‚  Layer 4: Pragmatic        â”‚                    â”‚
â”‚  Layer 3: Semantic         â”œâ”€ 5 Layers          â”‚
â”‚  Layer 2: Perceptual       â”‚   Required         â”‚
â”‚  Layer 1: Sensory        â”€â”€â”˜                    â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  AdaptonicEstimators                   â”‚    â”‚
â”‚  â”‚  â€¢ n_eff  - Effective layer count      â”‚    â”‚
â”‚  â”‚  â€¢ I_ratio - Indirect information      â”‚    â”‚
â”‚  â”‚  â€¢ d_sem   - Semantic dimension        â”‚    â”‚
â”‚  â”‚  â€¢ Ïƒ_coh   - Coherence                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  AdaptiveCouplingMatrix                â”‚    â”‚
â”‚  â”‚  â€¢ Hebbian learning                    â”‚    â”‚
â”‚  â”‚  â€¢ Cross-layer coupling                â”‚    â”‚
â”‚  â”‚  â€¢ Nonlinear transformations           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Task-Based Forcing                    â”‚    â”‚
â”‚  â”‚  â€¢ Classification tasks                â”‚    â”‚
â”‚  â”‚  â€¢ Reasoning tasks                     â”‚    â”‚
â”‚  â”‚  â€¢ Memory tasks                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Features:**
- âœ… 5-layer architecture
- âœ… Adaptonic dynamics (Î³, Î¸, F)
- âœ… Hebbian learning
- âœ… Nonlinear coupling
- âœ… Task generation

**Entry Point:**
```python
run_improved_simulation(
    n_agents=10,
    state_dim=32,
    n_layers=5,
    n_steps=500,
    gamma=0.15
)
```

---

### 2. Metrics Analysis (`metrics.py`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PHASE TRANSITION ANALYSIS                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  R4 Region Detection                   â”‚    â”‚
â”‚  â”‚  â€¢ Find continuous R4 spans            â”‚    â”‚
â”‚  â”‚  â€¢ Track entry/exit points             â”‚    â”‚
â”‚  â”‚  â€¢ Measure durations                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                                      â”‚
â”‚           â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Residence Time Statistics             â”‚    â”‚
â”‚  â”‚  â€¢ Mean duration                       â”‚    â”‚
â”‚  â”‚  â€¢ Stability after transition          â”‚    â”‚
â”‚  â”‚  â€¢ Number of regions                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                                      â”‚
â”‚           â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Attempt/Success Tracking              â”‚    â”‚
â”‚  â”‚  â€¢ Entry attempts                      â”‚    â”‚
â”‚  â”‚  â€¢ Successful entries                  â”‚    â”‚
â”‚  â”‚  â€¢ Success rate                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Functions:**
- `extract_r4_regions()` - Find R4 spans
- `compute_residence_times()` - Statistics
- `analyze_transition()` - Complete analysis

**Entry Point:**
```python
analysis = analyze_transition(
    history,
    sigma_threshold=0.75,
    alpha_threshold=1.5
)
```

---

### 3. LLM Baseline Infrastructure (`llm_baseline.py`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           LLM INTEGRATION PIPELINE               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  Text Input                                      â”‚
â”‚     â”‚                                            â”‚
â”‚     â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  EmbeddingProvider                     â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚    â”‚
â”‚  â”‚  â”‚ MockEmbeddingProvider   âœ…   â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ AnthropicProvider       â³   â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ OpenAIProvider          â³   â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ LocalProvider           â³   â”‚     â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚     â”‚                                            â”‚
â”‚     â–¼                                            â”‚
â”‚  Embeddings (768-1536 dim)                      â”‚
â”‚     â”‚                                            â”‚
â”‚     â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  StateVectorConverter                  â”‚    â”‚
â”‚  â”‚  â€¢ Dimensionality reduction            â”‚    â”‚
â”‚  â”‚  â€¢ Random projection / PCA             â”‚    â”‚
â”‚  â”‚  â€¢ Layer distribution                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚     â”‚                                            â”‚
â”‚     â–¼                                            â”‚
â”‚  State Vectors (32-64 dim Ã— 5 layers)           â”‚
â”‚     â”‚                                            â”‚
â”‚     â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  BaselineRunner                        â”‚    â”‚
â”‚  â”‚  â€¢ Toy baseline                        â”‚    â”‚
â”‚  â”‚  â€¢ LLM baseline                        â”‚    â”‚
â”‚  â”‚  â€¢ Comparison                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Classes:**
- `EmbeddingProvider` - Abstract interface
- `MockEmbeddingProvider` - Testing âœ…
- `StateVectorConverter` - Dim reduction
- `BaselineRunner` - Orchestration

**Entry Point:**
```python
runner = BaselineRunner(experiment, output_dir)
results = runner.run_toy_baseline()
```

---

### 4. Master Pipeline (`run_pipeline.py`)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            MASTER ORCHESTRATOR                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  Command Line Interface                          â”‚
â”‚     â”‚                                            â”‚
â”‚     â”œâ”€â”€ Mode: TOY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚     â”‚   â€¢ Run toy baseline            â”‚         â”‚
â”‚     â”‚   â€¢ Random vectors              â”‚         â”‚
â”‚     â”‚   â€¢ I_ratio = 0 (expected)     â”‚         â”‚
â”‚     â”‚   Status: âœ… Working            â”‚         â”‚
â”‚     â”‚                                 â”‚         â”‚
â”‚     â”œâ”€â”€ Mode: LLM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚     â”‚   â€¢ Run LLM baseline            â”‚         â”‚
â”‚     â”‚   â€¢ Real embeddings             â”‚         â”‚
â”‚     â”‚   â€¢ I_ratio > 0.3 (expected)   â”‚         â”‚
â”‚     â”‚   Status: â³ Infrastructure readyâ”‚        â”‚
â”‚     â”‚                                 â”‚         â”‚
â”‚     â”œâ”€â”€ Mode: COMPARE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚     â”‚   â€¢ Load toy results            â”‚         â”‚
â”‚     â”‚   â€¢ Load LLM results            â”‚         â”‚
â”‚     â”‚   â€¢ Generate comparison         â”‚         â”‚
â”‚     â”‚   Status: â³ Pending LLM        â”‚         â”‚
â”‚     â”‚                                 â”‚         â”‚
â”‚     â””â”€â”€ Mode: FULL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â€¢ Run all modes                         â”‚
â”‚         â€¢ Complete pipeline                     â”‚
â”‚         Status: â³ Pending LLM                  â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Output Management                     â”‚    â”‚
â”‚  â”‚  â€¢ JSON results                        â”‚    â”‚
â”‚  â”‚  â€¢ Metrics history                     â”‚    â”‚
â”‚  â”‚  â€¢ Transition analysis                 â”‚    â”‚
â”‚  â”‚  â€¢ Comparison reports                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Usage:**
```bash
python run_pipeline.py --mode toy --n_steps 500
python run_pipeline.py --mode llm --n_steps 500  # When ready
python run_pipeline.py --mode compare
python run_pipeline.py --mode full
```

**Or via Makefile:**
```bash
make quicktest   # 50 steps
make standard    # 500 steps
make extended    # 1000 steps
make compare     # Compare baselines
```

---

## ğŸ”„ EXECUTION FLOW

### Toy Baseline Flow

```
Start
  â”‚
  â”œâ”€ Create experiment
  â”‚   â€¢ N agents, d state_dim, L layers
  â”‚   â€¢ Task set
  â”‚   â€¢ Parameters (Î³, Î±_coh, etc.)
  â”‚
  â”œâ”€ Initialize agents
  â”‚   â€¢ 5 layers per agent
  â”‚   â€¢ Random initial states
  â”‚   â€¢ Coupling matrix
  â”‚
  â”œâ”€ Run simulation (T steps)
  â”‚   â”‚
  â”‚   â”œâ”€ For each step t:
  â”‚   â”‚   â”‚
  â”‚   â”‚   â”œâ”€ Generate task forcing F_task
  â”‚   â”‚   â”‚
  â”‚   â”‚   â”œâ”€ Compute cross-layer coupling
  â”‚   â”‚   â”‚   â€¢ Nonlinear transformations
  â”‚   â”‚   â”‚   â€¢ Hebbian weights
  â”‚   â”‚   â”‚
  â”‚   â”‚   â”œâ”€ Update agent states
  â”‚   â”‚   â”‚   â€¢ Heavy-ball momentum
  â”‚   â”‚   â”‚   â€¢ FDT noise
  â”‚   â”‚   â”‚   â€¢ Adaptonic viscosity
  â”‚   â”‚   â”‚
  â”‚   â”‚   â”œâ”€ Compute R4 metrics
  â”‚   â”‚   â”‚   â€¢ n_eff
  â”‚   â”‚   â”‚   â€¢ I_ratio
  â”‚   â”‚   â”‚   â€¢ d_sem
  â”‚   â”‚   â”‚   â€¢ Ïƒ_coh
  â”‚   â”‚   â”‚
  â”‚   â”‚   â””â”€ Log history
  â”‚   â”‚
  â”‚   â””â”€ Check R4 compliance
  â”‚
  â”œâ”€ Analyze transitions
  â”‚   â€¢ Extract R4 regions
  â”‚   â€¢ Compute residence times
  â”‚   â€¢ Track attempts/successes
  â”‚
  â”œâ”€ Save results
  â”‚   â€¢ JSON metrics
  â”‚   â€¢ Analysis summary
  â”‚   â€¢ Transition report
  â”‚
  â””â”€ Complete
```

### LLM Baseline Flow (Pending)

```
Start
  â”‚
  â”œâ”€ Load LLM provider
  â”‚   â€¢ Anthropic / OpenAI / Local
  â”‚   â€¢ API configuration
  â”‚
  â”œâ”€ Process text inputs
  â”‚   â”‚
  â”‚   â”œâ”€ For each text:
  â”‚   â”‚   â”‚
  â”‚   â”‚   â”œâ”€ Generate embedding
  â”‚   â”‚   â”‚   â€¢ LLM API call
  â”‚   â”‚   â”‚   â€¢ Cache result
  â”‚   â”‚   â”‚
  â”‚   â”‚   â”œâ”€ Convert to state
  â”‚   â”‚   â”‚   â€¢ Dimensionality reduction
  â”‚   â”‚   â”‚   â€¢ Layer distribution
  â”‚   â”‚   â”‚
  â”‚   â”‚   â””â”€ Store state vector
  â”‚   â”‚
  â”‚   â””â”€ Build state sequence
  â”‚
  â”œâ”€ Run simulation (same as toy)
  â”‚   â€¢ BUT: with semantic content
  â”‚   â€¢ EXPECT: I_ratio > 0.3
  â”‚
  â”œâ”€ Analyze transitions
  â”‚   â€¢ Same metrics
  â”‚   â€¢ Compare with toy
  â”‚
  â””â”€ Complete
```

---

## ğŸ“Š DATA FLOW

```
Input Text
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LLM Embeddings  â”‚ (768-1536 dim)
â”‚ â€¢ Semantic      â”‚
â”‚ â€¢ Hierarchical  â”‚
â”‚ â€¢ Contextual    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dimensionality  â”‚
â”‚   Reduction     â”‚
â”‚ â€¢ Random proj   â”‚
â”‚ â€¢ PCA           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ State Vectors   â”‚ (32-64 dim)
â”‚ â€¢ L1: Sensory   â”‚
â”‚ â€¢ L2: Percept   â”‚
â”‚ â€¢ L3: Semantic  â”‚
â”‚ â€¢ L4: Pragmatic â”‚
â”‚ â€¢ L5: Meta      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AGI Dynamics    â”‚
â”‚ â€¢ Coupling      â”‚
â”‚ â€¢ Momentum      â”‚
â”‚ â€¢ Viscosity     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ R4 Metrics      â”‚
â”‚ â€¢ n_eff         â”‚
â”‚ â€¢ I_ratio       â”‚
â”‚ â€¢ d_sem         â”‚
â”‚ â€¢ Ïƒ_coh         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase Analysis  â”‚
â”‚ â€¢ R4 regions    â”‚
â”‚ â€¢ Transitions   â”‚
â”‚ â€¢ Stability     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Results (JSON)
```

---

## ğŸ¯ R4 DECISION TREE

```
                    Start
                      â”‚
                      â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  n_eff > 4.0? â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚        â”‚
            YES   â”‚        â”‚  NO
                  â”‚        â”‚
                  â–¼        â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  âŒ NOT R4
          â”‚I_ratio   â”‚
          â”‚  > 0.3?  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚    â”‚
        YES   â”‚    â”‚  NO
              â”‚    â”‚
              â–¼    â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” âŒ NOT R4
      â”‚ d_sem    â”‚
      â”‚  â‰¥ 3?    â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚    â”‚
    YES   â”‚    â”‚  NO
          â”‚    â”‚
          â–¼    â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” âŒ NOT R4
  â”‚ Ïƒ_coh    â”‚
  â”‚  > 0.7?  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚    â”‚
YES   â”‚    â”‚  NO
      â”‚    â”‚
      â–¼    â–¼
  âœ… R4!  âŒ NOT R4
```

---

## ğŸ”‘ KEY DESIGN DECISIONS

### 1. Why 5 Layers?

**Mathematical Constraint:**
- n_eff â‰¤ L (number of layers)
- R4 requires: n_eff > 4.0
- **Therefore: L â‰¥ 5 required**

**Theoretical Justification:**
- Biological cortex has 5-7 layers
- Cognitive hierarchy needs depth
- Indirect paths require â‰¥3 intermediate layers

### 2. Why I_ratio = 0 in Toy?

**Random Vectors:**
- No semantic structure
- No hierarchical relationships
- No indirect information paths

**Result:** I(L_i, L_j | others) â‰ˆ 0

**LLM Embeddings:**
- Rich semantic structure
- Hierarchical representations
- Multiple reasoning pathways

**Expected:** I_ratio = 0.3-0.5

### 3. Why Adaptonic Viscosity?

**Formula:** Î³ = Î³â‚€(1 - ÏƒÂ²)

**Effect:**
- Low coherence â†’ High viscosity â†’ Slow dynamics
- High coherence â†’ Low viscosity â†’ Fast dynamics
- Self-organizing toward coherent states

### 4. Why Hebbian Coupling?

**Adaptive Weights:**
- Strengthen frequently co-active connections
- Weaken unused pathways
- Emergent hierarchical structure

**Without Hebbian:**
- Static coupling
- No adaptation
- Lower coherence

---

## ğŸ“ˆ EXPECTED BEHAVIOR

### Toy Baseline (Random Vectors)

```
Time Evolution:

t=0-50:     Low coherence, random dynamics
            Ïƒ ~ 0.2-0.4
            n_eff ~ 2-3

t=50-100:   Coupling strengthens (Hebbian)
            Ïƒ increases to 0.6-0.7
            n_eff approaches 4

t=100+:     High coherence, stable
            Ïƒ > 0.8
            n_eff > 4
            BUT: I_ratio = 0 (no semantic structure)

Result: NOT R4 (I_ratio fails)
```

### LLM Baseline (Expected)

```
Time Evolution:

t=0-50:     Semantic structure present
            Ïƒ ~ 0.4-0.6
            I_ratio > 0 (indirect paths exist)

t=50-100:   Coupling exploits semantic structure
            Ïƒ increases to 0.7-0.8
            I_ratio grows to 0.3-0.4
            n_eff approaches 5

t=100+:     Full R4 phase
            Ïƒ > 0.8
            n_eff > 4.5
            I_ratio > 0.3
            d_sem â‰¥ 3

Result: âœ… R4 ACHIEVED
```

---

## ğŸš€ INTEGRATION STATUS

### âœ… Complete

1. **Multi-layer architecture** - 5 layers, coupling, Hebbian
2. **Adaptonic dynamics** - Î³, Î¸, F, momentum, noise
3. **R4 metrics** - n_eff, I_ratio, d_sem, Ïƒ_coh
4. **Phase analysis** - Region detection, transitions
5. **LLM infrastructure** - Mock provider, conversion
6. **Pipeline orchestration** - CLI, automation
7. **Documentation** - 50+ pages total

### â³ Next Steps

1. **Real LLM provider** - Anthropic, OpenAI
2. **Semantic tasks** - Real text processing
3. **Baseline comparison** - Toy vs LLM
4. **Validation** - Anti-bias testing

---

## ğŸ“ THEORETICAL FOUNDATION

### R4 Region Definition

**Intentional Phase:** System exhibits intentionality when:

1. **Effective layers > 4** (n_eff)
   - Multiple processing levels active
   - Not collapsed to single layer

2. **Indirect information > 0.3** (I_ratio)
   - Cross-layer communication
   - Multi-hop reasoning paths

3. **Semantic dimension â‰¥ 3** (d_sem)
   - Rich representational space
   - Not low-dimensional

4. **Coherence > 0.7** (Ïƒ_coh)
   - System-wide alignment
   - Not fragmented

### Phase Transition

**Critical Point:** Î¸_c(Î³, N)

**Below:** R3 (pre-intentional)
- Low coherence
- Few active layers
- No indirect paths

**Above:** R4 (intentional)
- High coherence
- All layers active
- Rich indirect communication

---

**ğŸ† READY FOR REAL LLM TESTING! ğŸ†**

---

*Cognitive Lagoon Project*  
*Architecture v1.0*  
*2025-11-18*
